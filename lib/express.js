"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _express=_interopRequireDefault(require("express")),_bodyParser=_interopRequireDefault(require("body-parser")),_cookieParser=_interopRequireDefault(require("cookie-parser")),_compression=_interopRequireDefault(require("compression")),_cors=_interopRequireDefault(require("cors")),_helmet=_interopRequireDefault(require("helmet")),_index=_interopRequireDefault(require("./routes/index.routes")),_auth=_interopRequireDefault(require("./routes/auth.routes")),_user=_interopRequireDefault(require("./routes/user.routes"));function _default(){const a=new _express.default;return a.use((0,_compression.default)()),a.use((0,_helmet.default)()),a.use(_bodyParser.default.json()),a.use(_bodyParser.default.urlencoded({extended:!0})),a.use((0,_cookieParser.default)()),a.use((0,_cors.default)()),a.use(_index.default),a.use("/api/auth",_auth.default),a.use("/api/users",_user.default),a.use(function(a,b,c){"UnauthorizedError"===a.name&&c.status(401).json({error:a.name+": "+a.message})}),a}